<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <a class="navbar-brand" href="index.html">
            <img src="https://img.icons8.com/ios-filled/50/ff7f50/home.png" alt="Home" width="30" height="30">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active" href="index.html">Calculator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="info.html">Information</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about.html">About</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Loan Calculator</h1>
        <p class="text-center">This loan calculator helps you to determine the possible amount of mortgage loan you can afford based on your net income.</p>
        <div id="loan-amount">
            <form id="loanAmountForm">
                <div class="form-group">
                    <label for="netIncome">Net Income (EUR):</label>
                    <input type="number" class="form-control" id="netIncome" min="0" required>
                </div>
                <div class="form-group">
                    <label for="dependants">Number of Dependants:</label>
                    <input type="number" class="form-control" id="dependants" min="0" required>
                </div>
                <div class="form-group">
                    <label for="hasExistingLoans">I have existing loan obligations: <input type="checkbox" id="hasExistingLoans"></label>
                </div>
                <div id="existingLoansFields" style="display:none;">
                    <div class="form-group">
                        <label for="currentLoans">Current Loans (EUR):</label>
                        <input type="number" class="form-control" id="currentLoans" min="0">
                    </div>
                    <div class="form-group">
                        <label for="currentMonthlyPayments">Current Monthly Payments (EUR):</label>
                        <input type="number" class="form-control" id="currentMonthlyPayments" min="0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="energyEfficiency">Energoefficient Housing:</label>
                    <select class="form-control" id="energyEfficiency" required>
                        <option value="regular">Regular</option>
                        <option value="Aclass">A Class</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Calculate</button>
            </form>
            <div id="loanAmountResult" style="display:none;" class="mt-4">
                <h3>Loan Amount Result</h3>
                <p>Available Mortgage Loan Amount: <span id="loanAmount"></span> EUR</p>
                <p>Monthly Payment: <span id="monthlyPayment"></span> EUR</p>
            </div>
            <p class="small mt-3">
                NOTE: The calculation of mortgage payments is informative and may change after completion of the application to the creditor and submission of all necessary data. For limit calculations, an interest rate of 1.99% + 6 months Euribor (+3.735% as on 7 June, 2024) is used. The allowed maximum monthly payment is indicated. See the current EURIBOR rates <a href="https://www.euribor-rates.eu/en/current-euribor-rates/" target="_blank">here</a>.
            </p>
        </div>
    </div>

    <!-- Cookies Consent Modal -->
    <div class="modal fade" id="cookiesConsentModal" tabindex="-1" role="dialog" aria-labelledby="cookiesConsentModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cookiesConsentModalLabel">Cookies Consent</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    This website uses cookies. By clicking "Accept", you consent to the use of cookies.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="acceptCookies" type="button" class="btn btn-success">Accept</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="static/js/main.js"></script>
    <script>
        $(document).ready(function() {
            var current = location.pathname.split("/").slice(-1)[0];
            $('.nav-link').each(function() {
                var $this = $(this);
                if($this.attr('href') === current) {
                    $this.addClass('active');
                }
            });
            $('#loanAmountForm input[type="number"]').on('input', function() {
                if (this.value < 0) {
                    this.value = 0;
                }
            });
        });
    </script>
</body>
</html>
